@model Uppgift4Interaktiva.Models.ViewModels.ChannelLists

@{
    ViewBag.Title = "Startpage";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script>
    $(document).ready(function () {

        $("#showinfo").click(function () {

            var url = $("#myModal").data('url');
            $.get(url, function (data) {

                $("#myModal").html(data);
                $("#myModal").modal('show');

            });
        });


    });
</script>



<div class="row">
    <div class="col-sm-12 col-md-4 ">
        <div class="card bg-light mb-3">
            <div class="card-header text-center"><h4>@Html.DisplayFor(modelItem => Model.SVT1[0].Channel)</h4></div>
            <div class="card-body text-center">
                <h5 class="card-title">Idag</h5>
                <table class="table">

                    @foreach (var item in Model.SVT1)
                    {
                        var idIn = item.Id;
                        <tr>

                            <td>
                                @item.Start.ToShortTimeString()
                            </td>
                            <td>
                                @item.Name
                            </td>
                            <td>
                                <div class="modal fade" id="myModal" role="dialog" data-url='@Url.Action("Details", "TvPrograms", new { id = item.Id })'></div>
                                <button type="button" id="showinfo" class="btn btn-outline-dark">
                                    Info
                                </button>
                            </td>
                        </tr>

                    }

                </table>

            </div>
        </div>
    </div>
    <div class="col-sm-12 col-md-4 ">
        <div class="card bg-light mb-3">
            <div class="card-header text-center"><h4>@Html.DisplayFor(modelItem => Model.SVT2[0].Channel)</h4></div>
            <div class="card-body text-center">
                <h5 class="card-title">Idag</h5>
                <table class="table">
                    <tr>
                        <th>
                            <p>Tid</p>
                        </th>
                        <th>
                            <p>Program</p>
                        </th>
                    </tr>
                    @foreach (var item in Model.SVT2)
                    {
                        <tr>
                            <td>
                                @item.Start.ToShortTimeString()
                            </td>
                            <td>
                                @item.Name
                            </td>
                            <td>

                                <button type="button" id="showinfo" class="btn btn-outline-dark">
                                    Info
                                </button>
                                <div class="modal fade" id="myModal" role="dialog" data-url='@Url.Action("Details", "TvPrograms", new { id = item.Id })'></div>
                            </td>

                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>
    <div class="col-sm-12 col-md-4 ">
        <div class="card bg-light mb-3">
            <div class="card-header text-center"><h4>@Html.DisplayFor(modelItem => Model.TV3[0].Channel)</h4></div>
            <div class="card-body text-center">
                <h5 class="card-title">Idag</h5>
                <table class="table">
                    <tr>
                        <th>
                            <p>Tid</p>
                        </th>
                        <th>
                            <p>Program</p>
                        </th>
                    </tr>
                    @foreach (var item in Model.TV3)
                    {
                        var modalname = item.Start;
                        
                        <tr>
                            <td>
                                @item.Start.ToShortTimeString()
                            </td>
                            <td>
                                @item.Name
                            </td>
                            <td>
                                <button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="@modalname">Open Modal</button>
                                <!-- Modal -->
                                <div id="@modalname" class="modal fade" role="dialog">
                                    <div class="modal-dialog">

                                        <!-- Modal content-->
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                                <h4 class="modal-title">Modal Header</h4>
                                            </div>
                                            <div class="modal-body">
                                                <h5>Namn:</h5><p>@item.Name</p> <br />
                                                <p>@item.Start.ToShortTimeString()</p> <br />
                                                <p>@item.Info</p> <br />
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </td>
                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>
    <div class="col-sm-12 col-md-4 ">
        <div class="card bg-light mb-3">
            <div class="card-header text-center"><h4>@Html.DisplayFor(modelItem => Model.TV4[0].Channel)</h4></div>
            <div class="card-body text-center">
                <h5 class="card-title">Idag</h5>
                <table class="table">
                    <tr>
                        <th>
                            <p>Tid</p>
                        </th>
                        <th>
                            <p>Program</p>
                        </th>
                    </tr>
                    @foreach (var item in Model.TV4)
                    {
                       
                        <tr>
                            <td>
                                @item.Start.ToShortTimeString()
                            </td>
                            <td>
                                @item.Name
                            </td>
                            <td>
                                <button type="button" id="showTest" class="btn btn-outline-dark" onclick="click12(@item.Id)">
                                    Info
                                </button>
                                <script>
                                    function click12(id) {                                     
                                        $("#testP").text(id);                                      

                                    }    
                                </script>
                            </td>
                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>
    <div class="col-sm-12 col-md-4 ">
        <div class="card bg-light mb-3">
            <div class="card-header text-center"><h4>@Html.DisplayFor(modelItem => Model.TV6[0].Channel)</h4></div>
            <div class="card-body text-center">
                <h5 class="card-title">Idag</h5>
                <table class="table">
                    <tr>
                        <th>
                            <p>Tid</p>
                        </th>
                        <th>
                            <p>Program</p>
                        </th>
                    </tr>
                    @foreach (var item in Model.TV6)
                    {
                        <tr>
                            <td>
                                @item.Start.ToShortTimeString()
                            </td>
                            <td>
                                @item.Name
                            </td>
                            <td>
                                <button type="button" id="showinfo" class="btn btn-outline-dark" onclick="location.href='@Url.Action("Details", "TvPrograms", new { id = item.Id })'">
                                    Info
                                </button>
                            </td>
                        </tr>
                    }
                </table>
            </div>
        </div>
    </div>

    <p id="testP">TEST</p>
   


</div>



